<ngx-spinner bdOpacity=0.5 bdColor="#ffffff" size="large" color="rgba(59, 164, 47, 1)" [fullScreen]="true"
	name="loadingPage">
	<p> Office List... </p>
</ngx-spinner>
<section class="info-city-list-container">
	<article class="container-header-mobile">
		<div class="title-info-city">
			<h1 class="title-pages">
				{{pageInfo?.title}}
			</h1>
			<p class="text-intro">
				{{pageInfo?.intro}}
			</p>
		</div>
	</article>
	<article class="container-header-desktop" [style.background-image]="'url(' + pageInfo?.image + ')'">
		<div class="title-info-city">
			<h1 class="title-pages">
				{{pageInfo?.title}}
			</h1>
			<p class="text-intro">
				{{pageInfo?.intro}}
			</p>
		</div>
	</article>
	<!--Filtro-->
	<article class="filter-container">
		<div class="buttons-filters">
			<div class="show-map-container">
				<p class="text-show-map" *ngIf="mapShow">Hide map</p>
				<p class="text-show-map" *ngIf="!mapShow">Show map</p>
				<label class="switch-show-map">
					<span class="slider-show-map" [ngClass]="{'active': mapShow}" (click)="showMap()"
						aria-label="Toogle Map"></span>
				</label>
			</div>
			<div class="button-icon-grid">
				<button class="btn-icon" (click)="hideGrid()" [ngClass]="{'active': !listGrid}"
					aria-label="On Grid View">
					<i class="zwicon-grid"></i>
					<p class="text-button-filter">Grid View</p>
				</button>
			</div>
			<div class="button-icon-list">
				<button class="btn-icon" (click)="showGrid()" [ngClass]="{'active': listGrid}"
					aria-label="On List View">
					<i class="zwicon-list-bullet"></i>
					<p class="text-button-filter">List View</p>
				</button>
			</div>
			<div class="button-icon-filter">
				<button class="btn-icon" (click)="showFilters()" [ngClass]="{'active': allFilters}"
					aria-label="Show Filters">
					<i class="zwicon-filter"></i>
					<p class="text-button-filter">Filters</p>
				</button>
			</div>
		</div>
	</article>
</section>
<section class="result-list-container">
	<!--List-->
	<article class="result-container">
		<div class="category-filter-container" *ngIf="allFilters">
			<button class="btn-icon-filter" (click)="toogleFilterArea()" aria-label="Filter Neighborhoods">
				<i class="zwicon-expand-alt"></i>
				<p class="text-button-filter">Neighborhoods</p>
			</button>
			<button class="btn-icon-filter" (click)="toogleFilterDistance()" aria-label="Filter Distance">
				<i class="zwicon-expand"></i>
				<p class="text-button-filter">Distance</p>
			</button>
		</div>
		<div class="area-filter-contaier" *ngIf="filterArea">
			<button class="close-filter-button" (click)="toogleFilterArea()">
				<i class="zwicon-close"></i>
			</button>
			<ng-select [items]="areas" [dropdownPosition]="'top'" [multiple]="true" [closeOnSelect]="false" [searchable]="false"
				[(ngModel)]="selectedAreas">
			</ng-select>
			<div class="button-area-container">
				<button class="buttons-area-filter primary" (click)="applyFilterArea()" aria-label="Filter by area">
					Filter
				</button>
				<button class="buttons-area-filter secondary" (click)="clearArea()" aria-label="Clear filter">
					Clear
				</button>
			</div>
		</div>
		<div class="distance-filter-contaier" *ngIf="filterDistance">
			<button class="close-filter-button" (click)="toogleFilterDistance()">
				<i class="zwicon-close"></i>
			</button>
			<div class="slidecontainer">
				<input type="range" min="1" max="100" [value]="distance" class="slider-distance"
					(change)="changeDistance($event)">
				<p class="distance-label">1M</p>
				<p class="distance-label text-rigth">1OOM</p>
			</div>
			<p class="distance-number-filter">
				{{distance}}
			</p>
			<p class="distance-title">
				Miles
			</p>
		</div>
		<ng-container *ngFor="let bc of bussinesCenter">
			<div class="office-list-card card-white" [ngClass]="listGrid ? 'list-style' : 'card-style'">
				<figure class="img-card-office">
					<i class="icon-star-office" *ngIf="bc.premium === 1"></i>
					<office-list-image-component [image]="bc.principal_image"></office-list-image-component>
					<button class="button-icon" id="btn-list-search" (click)="showModalDetail(bc.buscenter_id)"
						aria-label="Open details">
						<i class="zwicon-plus"></i>
					</button>
				</figure>
				<div class="info-office-container">
					<p class="text-default"
						routerLink="/office-space-for-rent/us/{{bc.state | normalizeString}}/{{bc.city | normalizeString }}/office/{{ bc.cross_streets | normalizeString }}-{{ bc.buscenter_id}}">
						{{bc.descriptive_title}}</p>
					<h3 class="title-name-office"
						routerLink="/office-space-for-rent/us/{{bc.state | normalizeString}}/{{bc.city | normalizeString }}/office/{{ bc.cross_streets | normalizeString }}-{{ bc.buscenter_id}}">
						{{ bc.cross_streets }}
					</h3>
					<p class="name-city">{{bc.state }}, {{bc.city}} {{bc.zip_code}}
						<button *ngIf="isDesktop" class="view-map" (click)="showInMap(bc.buscenter_id)"  (mouseenter)="bc.overMap=true" (mouseleave)="bc.overMap=false">
							<i class="zwicon-earth-alt"></i>
							<span class="hover-view" *ngIf="bc.overMap">View on map</span>
						</button>
					</p>
					<span class="badge-city">{{bc.area_name}}</span>
					<a class="phone-number" href="tel:{{bc.phone | normalizePhone}}" *ngIf="bc.phone">
						<i class="zwicon-phone"></i>
						{{bc.phone}}
					</a>
					<a class="phone-number" href="tel:+18663545478" *ngIf="!bc.phone">
							<i class="zwicon-phone"></i>
							1-866-354-5478
					</a>
					<div class="price-container"
						routerLink="/office-space-for-rent/us/{{bc.state | normalizeString}}/{{bc.city | normalizeString }}/office/{{ bc.cross_streets | normalizeString }}-{{ bc.buscenter_id}}"
						*ngIf="bc.offices">
						<button class="button-show-price" aria-label="Go to details">
							<h3 class="title-price">
								Starting at :
							</h3>
						</button>
						<ul class="list-prices-office">
							<li *ngFor="let office of bc.offices">
								<p class="price-office">${{office.off_pricing}}</p>
								<p class="type-office">{{office.off_name}}</p>
							</li>
						</ul>
					</div>
					<div class="price-container call-pricing" *ngIf="!bc.offices">
						<button class="button-show-price" aria-label="Go to details"
							routerLink="/office-space-for-rent/us/{{bc.state | normalizeString}}/{{bc.city | normalizeString }}/office/{{ bc.cross_streets | normalizeString }}-{{ bc.buscenter_id}}">
							<h3 class="title-price">
								Call For Pricing
							</h3>
						</button>
					</div>
					<div class="btn-container">
						<button class="button-default primary" (click)="callSingUp(bc.buscenter_id)" aria-label="Inquire now">
							Inquire
						</button>
					</div>
					<div class="like-container">
						<button class="button-icon-like" aria-label="Like button">
							<office-list-favorites-heart [bcId]="bc.buscenter_id"></office-list-favorites-heart>
						</button>
					</div>
				</div>
			</div>
		</ng-container>
		<div class="spinner-container" #bottonTest style="width: 100%;">
			<ngx-spinner name="loadingBC" color="rgba(59, 164, 47, 0.9)" bdColor="#ffffff" [fullScreen]="false"
				type="ball-clip-rotate-multiple" size="large"></ngx-spinner>
		</div>
	</article>
	<!--Map-->
	<div class="result-map-container" *ngIf="mapShow">
		<div class="close-map">
			<button class="close-button-map" (click)="showMap()" aria-label="Close Map">
				<i class="zwicon-close"></i>
			</button>
		</div>
		<office-list-map [bcClick]="bcClick"></office-list-map>
	</div>
</section>

<div class="call-info-modal-container" *ngIf="detailOfficeInfo">
	<office-list-modal-detail [businessId]="selectedBusiness"></office-list-modal-detail>
</div>
<office-list-buttons-mobile></office-list-buttons-mobile>
